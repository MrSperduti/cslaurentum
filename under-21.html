<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Giocatori Under 21</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="container">
    <h1>Giocatori Under 21</h1>
    <table id="elencoGiocatori">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Data di Nascita</th>
          <th>Matricola</th>
          <th>Dettagli</th>
        </tr>
      </thead>
      
        <tbody>
            <!-- Popola la tabella con i giocatori della categoria -->
        
        <!-- I dati verranno popolati dinamicamente tramite JavaScript -->
      </tbody>
    </table>
    <button onclick="location.href='index.html'">Torna alla Home</button>
  </div>
  <script>
fetch('dati/giocatori.json')
  .then(res => res.json())
  .then(giocatori => {
    const elenco = document.getElementById("elencoGiocatori").getElementsByTagName('tbody')[0];
    const filtrati = giocatori
      .map((g, i) => { return {...g, index: i}; })
      .filter(g => g.categoria === "Under 21")
      .sort((a, b) => a.nome.localeCompare(b.nome));

    if (filtrati.length === 0) {
      elenco.innerHTML = "<tr><td colspan='4'>Nessun giocatore presente.</td></tr>";
      return;
    }

    filtrati.forEach(g => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${g.nome} ${g.cognome}</td>
        <td>${g.dataNascita}</td>
        <td>${g.matricola}</td>
        <td><a href="giocatore.html?id=${g.index}">Dettagli</a></td>
      `;
      elenco.appendChild(row);
    });
  });
</script>
</body>
</html>
